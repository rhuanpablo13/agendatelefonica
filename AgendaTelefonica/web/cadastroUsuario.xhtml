<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">

    <h:head>
        <title>Cadastro</title> 
        <link href="css/estilo.css" rel="stylesheet" type="text/css"/>  
    </h:head>
    <h:body class="body">

        <!-- Formulário de cadastro de Usuario-->             
        <h:form class="cadastroUsuario">
            <h3 style="margin-left: 20%">Cadastro Usuario</h3><br></br>
            <f:viewAction action="#{usuarioMB.novoUsuario()}"/>
            <b:row>
            <b:inputText id="email" value="#{usuarioMB.usuario.email}"
                             required="true"
                             requiredMessage="Campo login obrigatório"
                             validatorMessage="Campo email incorreto!"
                             span="8"
                             label="Login">
                    <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                </b:inputText>
                
                <b:column>
                    <b:messages for="email" span="8"/>
                </b:column>
                <b:inputSecret value="#{usuarioMB.usuario.senha}"
                               required="true"                       
                               requiredMessage="Campo senha obrigatório"
                               span="8"
                               label="Senha"
                               id="senha"/>
                <b:column>
                    <b:messages for="senha" span="8"/>
                </b:column>
                <b:inputSecret value="#{usuarioMB.repeteSenha}"
                               required="true"
                               requiredMessage="Campo senha obrigatório"
                               span="8"
                               label="Repete senha"
                               id="repeteSenha"/>
                <b:column>
                    <b:messages for="repeteSenha" span="8"/>
                </b:column>
                
                <b:inputText value="#{usuarioMB.agenda.nomeAgenda}"
                               required="true"
                               requiredMessage="Nome da agenda obrigatório"
                               span="8"
                               label="Nome da sua agenda"
                               id="nomeAgenda"/>
                <b:column>
                    <b:messages for="nomeAgenda" span="8"/>
                </b:column>
            </b:row>
            <b:row>
                <b:column>
                    <b:commandButton value="Cadastrar" action="#{usuarioMB.cadastrar()}"/>&nbsp;&nbsp;&nbsp;
                    <b:commandButton value="Cancelar" action="login.xhtml" immediate="true"/>
                </b:column></b:row>
            <b:column rendered="#{usuarioMB.apresentaMsg}">
                <b:messages span="8" />
            </b:column>
        </h:form>



    </h:body>
</html>

